import{r as t,h as e}from"./p-B4CGwdkg.js";import{s,b as i,f as o}from"./p-BgIVAeDg.js";var a=function(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(s[i[o]]=t[i[o]])}return s};const c=class{constructor(e){t(this,e),this.data=[{selected:!0},{selected:!0}],this.rowDivider=!0,this.showSelectCheckBox=!0,this.alternate=!0,this.cells=[{propertyName:"test",isFilter:!1,isSort:!1,title:"Test",type:"propertyName",colSpan:1},{propertyName:"test",isFilter:!1,isSort:!1,title:"Test",type:"propertyName",colSpan:1}],this.contained=!0,this.sortedData=[],this.direction=!1,this.sortData=(t="up",e,s)=>{if("up"===t){const t=[...this.data.sort(((t,s)=>s[e]>t[e]?1:t[e]>s[e]?-1:0))];this.sortedData=t}else if("down"===t){const t=[...this.data.sort(((t,s)=>t[e]>s[e]?1:s[e]>t[e]?-1:0))];this.sortedData=t}this.cells[s].sort="down"==t?"up":"down"},this.handleSelectedRowChanges=(t,e)=>{const s=[...this.data];s[e].selected=t,this.sortedData=s,this.getSelectedRows&&this.getSelectedRows({selectedRows:s.filter((t=>t.selected)),currentSelectedRow:s[e],currentSelectedRowIndex:e})},this.selectAll=t=>{const e=[...this.data];e.forEach((e=>e.selected=t)),this.sortedData=e,this.getSelectedRows&&this.getSelectedRows({selectedRows:e})}}initializeData(t){if(t&&t.length>0){const e=[...t];this.sortedData=e}}buildComponentProps(t,e,s){const i={};return t.staticProps&&Object.assign(i,t.staticProps),i.rowIndex=s,t.elProperties&&t.elProperties.length>0&&t.elProperties.forEach((t=>{e.hasOwnProperty(t)&&(i[t]=e[t])})),t.propMapping&&Object.entries(t.propMapping).forEach((([t,s])=>{e.hasOwnProperty(s)&&(i[t]=e[s])})),t.elProperties||t.propMapping||Object.assign(i,e),i}componentWillLoad(){this.direction=document.dir?"rtl"===document.dir:!!document.documentElement.lang&&"ar"===document.documentElement.lang,this.initializeData(this.data)}render(){return console.log(this.sortedData,"this.sortedData"),e("div",{key:"ca80ee05b1e8811160d8b85bbb54f0208f77bfed",class:"table-wrapper "+(this.contained?"table-contained":"")},e("table",{key:"a8d003be75250e95b99ca4b3d1607e9401475556",class:" azm-table "+(this.contained?"table-contained":""),style:{direction:this.direction?"rtl":"ltr"}},e("thead",{key:"53afb8f7b61363f1d562fa7085c87f1be580f5a2"},e("tr",{key:"dc7c8ff4a0f35ef093760750e82f6354e19d607e",class:this.rowDivider?"row-divider":""},this.showSelectCheckBox&&e("th",{key:"c00258e111a02335c07974e47aa5cc13d52a0dab",style:{width:"20px"}},e("dga-checkbox",{key:"69b172e3261ed1cb4a6b1aa77cedf72ad03c3b20",showBorderOnFocusAndFocusOute:!1,value:"true",onChange:t=>this.selectAll(t.target.checked)})),this.cells.map(((t,c)=>{var{sort:n,isSort:r,propertyName:d,type:h}=t,l=a(t,["sort","isSort","propertyName","type"]);return e("th",{key:c},e("span",null,e("span",{class:"text"},l.title),e("span",{class:"icon-wrapper"},r&&"up"==n&&"propertyName"==h&&e("button",{class:"dga-btn dga-btn--sort dga-btn--icon dga-btn--md",onClick:()=>this.sortData("up",d,c)},e("dga-icon",{icon:s,size:16})),r&&(!n||"down"==n)&&"propertyName"==h&&e("button",{class:"dga-btn dga-btn--sort dga-btn--icon dga-btn--md",onClick:()=>this.sortData("down",d,c)},e("dga-icon",{icon:i,size:16})),l.isFilter&&e("button",{class:"dga-btn dga-btn--sort dga-btn--icon dga-btn--md ",onClick:()=>this.pressOnFilter&&this.pressOnFilter(d)},e("dga-icon",{icon:o,size:16})))))})))),e("tbody",{key:"cc476bc9fc8888f2466bfdbef2711523b17e3de7"},this.sortedData.map(((t,s)=>e("tr",{class:`${this.rowDivider?"row-divider":""} ${this.alternate?"alternate":""} ${t.selected?"row-selected":""} `,key:s},this.showSelectCheckBox&&e("td",null,e("dga-checkbox",{name:s+"checkboxSelection",value:t.selected,id:s+"checkboxSelection",showBorderOnFocusAndFocusOute:!1,onChange:t=>this.handleSelectedRowChanges(t.target.checked,s),checked:t.selected})),this.cells.map(((i,o)=>{var{El:c}=i,n=a(i,["El"]);return e("td",{key:o,colSpan:n.colSpan?n.colSpan:1},"element"===n.type&&c?e(c,"string"==typeof c?this.buildComponentProps(n,t,s):Object.assign({},t)):t[n.propertyName])}))))))))}};export{c as dga_data_table}