import{d as t,r as n,h as i,H as o,a as s}from"./p-B4CGwdkg.js";import{i as r}from"./p-CH66vbCC.js";let e;const c=(t,n)=>(t||!n||a(n)||(t=n),d(t)&&(t=h(t)),d(t)&&""!==t.trim()?""!==t.replace(/[a-z]|-|\d/gi,"")?null:t:null),l=t=>d(t)&&(t=t.trim(),a(t))?t:null,a=t=>t.length>0&&/(\/|\.)/.test(t),d=t=>"string"==typeof t,h=t=>t.toLowerCase(),u=t=>{if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(let n=0;n<t.attributes.length;n++){const i=t.attributes[n].name;if(d(i)&&0===i.toLowerCase().indexOf("on"))return!1}for(let n=0;n<t.childNodes.length;n++)if(!u(t.childNodes[n]))return!1}return!0},f=new Map,p=new Map;let m;function g(t){return f.set(t,""),""}const w=class{constructor(t){n(this,t),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.isVisible=!1,this.variant="bulk",this.type="rounded",this.size=24,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((t,n=[])=>{const i={};return n.forEach((n=>{t.hasAttribute(n)&&(null!==t.getAttribute(n)&&(i[n]=t.getAttribute(n)),t.removeAttribute(n))})),i})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,n,i){if(!Boolean(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver))return i();const o=this.io=new window.IntersectionObserver((t=>{t[0].isIntersecting&&(o.disconnect(),this.io=void 0,i())}),{rootMargin:n});o.observe(t)}loadIcon(){if(this.isVisible){const n=(n=>{let i=l(n.src);return i||(i=c(n.name,n.icon),i?((n,i)=>{const o=(()=>{if("undefined"==typeof window)return new Map;if(!e){const t=window;t.GDSIcons=t.GDSIcons||{},e=t.GDSIcons.map=t.GDSIcons.map||new Map}return e})().get(n);if(o)return o;try{const o=i.variant||"bulk",s=i.type||"rounded";return t(`assets/svg/${o}-${s}/${n}-${o}-${s}.svg`)}catch(t){console.log("e",t),console.warn(`[GDS Icons Warning]: Could not load icon with name "${n}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,i)}})(i,n):n.icon&&(i=l(n.icon),i)?i:null)})(this);n&&(f.has(n)?this.svgContent=f.get(n):((t,n)=>p.get(t)||("undefined"!=typeof fetch&&"undefined"!=typeof document?(t=>t.startsWith("data:image/svg+xml"))(t)&&(t=>-1!==t.indexOf(";utf8,"))(t)?Promise.resolve(function(t){m||(m=new DOMParser);const n=m.parseFromString(t,"text/html").querySelector("svg");if(n)return f.set(t,n.outerHTML),n.outerHTML;throw new Error(`Could not parse svg from ${t}`)}(t)):function(t,n){const i=fetch(t).then((i=>i.text().then((i=>{i&&!1!==n&&(i=(t=>{const n=document.createElement("div");n.innerHTML=t;for(let t=n.childNodes.length-1;t>=0;t--)"svg"!==n.childNodes[t].nodeName.toLowerCase()&&n.removeChild(n.childNodes[t]);const i=n.firstElementChild;if(i&&"svg"===i.nodeName.toLowerCase()){const t=i.getAttribute("class")||"";if(i.setAttribute("class",(t+" s-ion-icon").trim()),u(i))return n.innerHTML}return""})(i));const o=i||"";return f.set(t,o),o})).catch((()=>g(t))))).catch((()=>g(t)));return p.set(t,i),i}(t,n):Promise.resolve(g(t))))(n,this.sanitize).then((()=>this.svgContent=f.get(n))),this.didLoadIcon=!0)}this.iconName=c(this.name,this.icon)}render(){const{flipRtl:t,iconName:n,inheritedAttributes:s,el:e,color:c,size:l}=this,a=!!n&&(n.includes("arrow")||n.includes("chevron"))&&!1!==t,d=t||a;return i(o,Object.assign({key:"c3c86b0aa965042f90353da7160f27ed66a6e37a",role:"img",class:{"flip-rtl":d,"icon-rtl":d&&r(e)}},s,{style:{color:null!=c?c:"inherit",fontSize:`${l}px`}}),i("div",this.svgContent?{class:{"icon-inner":!0},innerHTML:this.svgContent}:{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return s(this)}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],variant:["loadIcon"],type:["loadIcon"]}}};w.style=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;box-sizing:content-box !important}.icon-inner,.gds-icon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{transform:scaleX(-1)}}@supports (not selector(:dir(rtl))) and (selector(:host-context([dir='rtl']))){:host(.icon-rtl) .icon-inner{transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{transform:scaleX(1)}}";export{w as dga_icon}